{"https://moirai2.github.io/schema/daemon/input":["$reference"],"https://moirai2.github.io/schema/daemon/bash":["outdir=\"$tmpdir/index\"","log=$tmpdir/Log.out","mkdir -p $outdir","stdout=$tmpdir/stdout.txt","stderr=$tmpdir/stderr.txt","bases=$(minlength.pl<$reference)","STAR --genomeSAindexNbases $bases --runMode genomeGenerate --outFileNamePrefix $tmpdir/ --genomeDir $outdir --genomeFastaFiles $reference > $stdout 2> $stderr"],"https://moirai2.github.io/schema/daemon/script":{"https://moirai2.github.io/schema/daemon/script/name":"minlength.pl","https://moirai2.github.io/schema/daemon/script/code":["#!/usr/bin/perl","use POSIX qw(floor ceil);","my $length=0;","while(<STDIN>){","chomp;","if(/^>/){}","else{$length+=length($_);}","}","my $bases=log($length)/log(2)/2-1;","if($bases>14){$bases=14;}","print ceil($bases).\"\\n\";"]},"https://moirai2.github.io/schema/daemon/output":["$outdir","$stdout","$stderr","$log"]}
