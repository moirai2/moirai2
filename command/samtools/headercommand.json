{"https://moirai2.github.io/schema/daemon/input":"$input","https://moirai2.github.io/schema/daemon/bash":["temp=$workdir/temp.txt","samtools view -H $input | extract.pl > $temp","source $temp","rm $temp"],"https://moirai2.github.io/schema/daemon/script":{"https://moirai2.github.io/schema/daemon/script/name":"extract.pl","https://moirai2.github.io/schema/daemon/script/code":["#!/usr/bin/perl","my $hash={};","while(<STDIN>){","chomp;","if(/^\\@PG\\t(.+)$/){","foreach my $token(split(/\\t/,$1)){","my ($key,$val)=split(/\\:/,$token);","if($key eq \"CL\"){$hash->{\"commandline\"}=$val;}","elsif($key eq \"ID\"){$hash->{\"programid\"}=$val;}","elsif($key eq \"VN\"){$hash->{\"programversion\"}=$val;}","elsif($key eq \"PN\"){$hash->{\"programname\"}=$val;}","}","}","}","foreach my $key(\"commandline\",\"programid\",\"programversion\",\"programname\"){","my $value=(exists($hash->{$key}))?$hash->{$key}:\"NONE\";","print \"$key=\"$value\"\\n\";","}"]},"https://moirai2.github.io/schema/daemon/output":["$programid","$programversion","$programname"],"https://moirai2.github.io/schema/daemon/return":"$commandline","https://moirai2.github.io/schema/daemon/software":"samtools"}
