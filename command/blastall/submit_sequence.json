{"https://moirai2.github.io/schema/daemon/select":"$sequence","https://moirai2.github.io/schema/daemon/bash":["rid=$(submit.pl $sequence)","status=\"submit\""],"https://moirai2.github.io/schema/daemon/script":{"https://moirai2.github.io/schema/daemon/script/name":"submit.pl","https://moirai2.github.io/schema/daemon/script/code":["#!/usr/bin/perl","use URI::Escape;","use LWP::UserAgent;","use HTTP::Request::Common qw(POST);","$ua=LWP::UserAgent->new;","$query=$ARGV[0];","$program=\"blastn&MEGABLAST=on\";","$database=\"nt\";","$encoded_query.=uri_escape($query);","$args=\"CMD=Put&PROGRAM=$program&DATABASE=$database&QUERY=$encoded_query\";","$req=new HTTP::Request POST=>'https://blast.ncbi.nlm.nih.gov/blast/Blast.cgi';","$req->content_type('application/x-www-form-urlencoded');","$req->content($args);","$response=$ua->request($req);","$response->content=~/^    RID = (.*$)/m;","$rid=$1;","sleep 10;","print \"$rid\\n\";"]},"https://moirai2.github.io/schema/daemon/output":["$rid","$status"]}
