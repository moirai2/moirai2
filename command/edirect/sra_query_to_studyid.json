{"https://moirai2.github.io/schema/daemon/input":["$query","$days"],"https://moirai2.github.io/schema/daemon/bash":"studyid=(`esearch -db sra -query \"$query\" -days $days | efetch -format runinfo | pick.pl`)","https://moirai2.github.io/schema/daemon/script":{"https://moirai2.github.io/schema/daemon/script/name":"pick.pl","https://moirai2.github.io/schema/daemon/script/code":["#!/usr/bin/perl","my $label=$ARGV[0];","if(!defined($label)){$label=\"SRAStudy\"}","my $index;","my $hash={};","while(<STDIN>){","chomp;","if(/Run/){","if(!defined($index)){","my $i=0;","foreach my $token(split(/,/)){if($label eq $token){$index=$i;last;}$i++;}","}","if(!defined($index)){exit(1);}","next;","}","my @tokens=split(/,/);","my $token=$tokens[$index];","if($token ne \"\"){$hash->{$tokens[$index]}++;}","}","foreach my $key (sort{$a cmp $b}keys(%{$hash})){print \"$key\\n\";}"]},"https://moirai2.github.io/schema/daemon/outputs":"$studyid","https://moirai2.github.io/schema/daemon/singlethread":true}
